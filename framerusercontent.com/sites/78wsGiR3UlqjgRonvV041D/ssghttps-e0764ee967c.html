let e=makeQueue();const raf=t=>schedule(t,e);let t=makeQueue();raf.write=e=>schedule(e,t);let n=makeQueue();raf.onStart=e=>schedule(e,n);let l=makeQueue();raf.onFrame=e=>schedule(e,l);let a=makeQueue();raf.onFinish=e=>schedule(e,a);let u=[];raf.setTimeout=(e,t)=>{let
n=raf.now()+t;let cancel=()=>{let e=u.findIndex((e=>e.cancel==cancel));~e&&u.splice(e,1);c-=~e?1:0};let l={time:n,handler:e,cancel:cancel};u.splice(findTimeout(n),0,l);c+=1;start();return l};let findTimeout=e=>~(~u.findIndex((t=>t.time>e))||~u.length);raf.cancel=u=>{n.delete(u);l.delete(u);a.delete(u);e.delete(u);t.delete(u)};raf.sync=e=>{r=true;raf.batchedUpdates(e);r=false};raf.throttle=e=>{let
t;function queuedFn(){try{e(...t)}finally{t=null}}function throttled(...e){t=e;raf.onStart(queuedFn)}throttled.handler=e;throttled.cancel=()=>{n.delete(queuedFn);t=null};return throttled};let d="undefined"!=typeof window?window.requestAnimationFrame:()=>{};raf.use=e=>d=e;raf.now="undefined"!=typeof
performance?()=>performance.now():Date.now;raf.batchedUpdates=e=>e();raf.catch=console.error;raf.frameLoop="always";raf.advance=()=>{"demand"!==raf.frameLoop?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):update()};let
o=-1;let c=0;let r=false;function schedule(e,t){if(r){t.delete(e);e(0)}else{t.add(e);start()}}function start(){if(o
<0){o=0; "demand"!==raf.frameLoop&&d(loop)}}function stop(){o=-1}function loop(){if(~o){d(loop);raf.batchedUpdates(update)}}function update(){let
    d=o;o=raf.now();let r=findTimeout(o);if(r){eachSafely(u.splice(0,r),(e=>e.handler()));c-=r}if(c){n.flush();e.flush(d?Math.min(64,o-d):16.667);l.flush();t.flush();a.flush()}else stop()}function makeQueue(){let e=new Set;let t=e;return{add(n){c+=t!=e||e.has(n)?0:1;e.add(n)},delete(n){c-=t==e&&e.has(n)?1:0;return e.delete(n)},flush(n){if(t.size){e=new
    Set;c-=t.size;eachSafely(t,(t=>t(n)&&e.add(t)));c+=e.size;t=e}}}}function eachSafely(e,t){e.forEach((e=>{try{t(e)}catch(e){raf.catch(e)}}))}const s={count(){return c},isRunning(){return o>=0},clear(){o=-1;u=[];n=makeQueue();e=makeQueue();l=makeQueue();t=makeQueue();a=makeQueue();c=0}};export{s
    as __raf,raf}; //# sourceMappingURL=react-spring-rafz.esm.js.map